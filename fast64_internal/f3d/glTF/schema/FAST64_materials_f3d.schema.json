{
    "$schema": "http://json-schema.org/draft-04/schema",
    "title": "FAST64_materials_f3d glTF Material Extension",
    "type": "object",
    "description": "glTF extension that provides a representation of F3d fast64 material data.",
    "allOf": [
        {
            "$ref": "glTFProperty.schema.json"
        }
    ],
    "properties": {
        "combiner": {
            "type": "object",
            "description": "The n64 color combiner lerp inputs",
            "properties": {
                "set": {
                    "type": "boolean",
                    "description": "When toggled the material should update the combiner lerp inputs"
                },
                "cycles": {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 2,
                    "description": "Can have one or two cycles depending on geometry mode.",
                    "items": {
                        "type": "object",
                        "properties": {
                            "color": {
                                "type": "array",
                                "minItems": 4,
                                "maxItems": 4,
                                "prefixItems": [
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "1",
                                            "NOISE",
                                            "0"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "CENTER",
                                            "K4",
                                            "0"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "SCALE",
                                            "COMBINED_ALPHA",
                                            "TEXEL0_ALPHA",
                                            "TEXEL1_ALPHA",
                                            "PRIMITIVE_ALPHA",
                                            "SHADE_ALPHA",
                                            "ENV_ALPHA",
                                            "LOD_FRACTION",
                                            "PRIM_LOD_FRAC",
                                            "K5",
                                            "0"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "1",
                                            "0"
                                        ]
                                    }
                                ]
                            },
                            "alpha": {
                                "type": "array",
                                "minItems": 4,
                                "maxItems": 4,
                                "prefixItems": [
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "1",
                                            "0"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "1",
                                            "0"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "LOD_FRACTION",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "PRIM_LOD_FRAC",
                                            "0"
                                        ]
                                    },
                                    {
                                        "type": "string",
                                        "default": "0",
                                        "enum": [
                                            "COMBINED",
                                            "TEXEL0",
                                            "TEXEL1",
                                            "PRIMITIVE",
                                            "SHADE",
                                            "ENVIRONMENT",
                                            "1",
                                            "0"
                                        ]
                                    }
                                ]
                            }
                        }
                    }
                }
            }
        },
        "environment": {
            "type": "object",
            "description": "The environment color, available in the combiner as the color inputs ENVIRONMENT and ENV_ALPHA",
            "properties": {
                "set": {
                    "type": "boolean",
                    "description": "When toggled the material should update the current environment color"
                },
                "color": {
                    "type": "array",
                    "description": "The color is linear instead of sRGB, it must be converted to sRGB for n64.",
                    "items": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 1.0
                    },
                    "minItems": 4,
                    "maxItems": 4,
                    "default": [
                        1.0,
                        1.0,
                        1.0,
                        1.0
                    ]
                }
            }
        },
        "primitive": {
            "type": "object",
            "description": "The primitive color values, available in the combiner as the color inputs PRIMITIVE, PRIMITIVE_ALPHA and PRIM_LOD_FRAC",
            "properties": {
                "set": {
                    "type": "boolean",
                    "description": "When toggled the material should update the current primitive color"
                },
                "color": {
                    "type": "array",
                    "description": "The color is linear instead of sRGB, it must be converted to sRGB for n64.",
                    "items": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 1.0
                    },
                    "minItems": 4,
                    "maxItems": 4,
                    "default": [
                        1.0,
                        1.0,
                        1.0,
                        1.0
                    ]
                },
                "minLoDRatio": {
                    "type": "number",
                    "minimum": 0.0,
                    "maximum": 1.0
                },
                "loDFraction": {
                    "type": "number",
                    "minimum": 0.0,
                    "maximum": 1.0
                }
            }
        },
        "chromaKey": {
            "type": "object",
            "description": "The chroma key values, available in the combiner as the color inputs CENTER and SCALE",
            "properties": {
                "set": {
                    "type": "boolean",
                    "description": "When toggled the material should update the chroma key values and set the h othermode for chroma keying (G_MDSFT_COMBKEY)"
                },
                "center": {
                    "type": "array",
                    "description": "Defines the color intensity at which the key is active. The color is linear instead of sRGB, it must be converted to sRGB for n64.",
                    "items": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 1.0
                    },
                    "minItems": 3,
                    "maxItems": 3,
                    "default": [
                        1.0,
                        1.0,
                        1.0
                    ]
                },
                "scale": {
                    "type": "array",
                    "description": "For hard edge keying, set scale to maximum",
                    "items": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 1.0
                    },
                    "minItems": 3,
                    "maxItems": 3,
                    "default": [
                        0.0,
                        0.0,
                        0.0
                    ]
                },
                "width": {
                    "type": "array",
                    "description": "Size of half the key window. If width > 255, then keying is disabled for that channel",
                    "items": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 16.0
                    },
                    "minItems": 3,
                    "maxItems": 3,
                    "default": [
                        0.0,
                        0.0,
                        0.0
                    ]
                }
            }
        },
        "yuvConvert": {
            "type": "object",
            "description": "The yuv to rgb coefficients, available in the combiner as the color inputs K4 and K5",
            "properties": {
                "set": {
                    "type": "boolean",
                    "description": "When toggled the material should update the yuv to rgb coefficients and set the h othermode for texture conversion (G_TC_FILTCONV)"
                },
                "values": {
                    "type": "array",
                    "minItems": 6,
                    "maxItems": 6,
                    "items": {
                        "type": "number",
                        "minimum": -1.0,
                        "maximum": 1.0
                    },
                    "default": [
                        0.6863,
                        -0.1686,
                        -0.3490,
                        0.8706,
                        0.4475,
                        0.1647
                    ]
                }
            }
        },
        "fog": {
            "type": "object",
            "description": "",
            "properties": {
                "set": {
                    "type": "boolean",
                    "description": "When toggled the material should update the fog color and position"
                },
                "color": {
                    "type": "array",
                    "description": "The color is linear instead of sRGB, it must be converted to sRGB for n64.",
                    "items": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 1.0
                    },
                    "minItems": 3,
                    "maxItems": 3,
                    "default": [
                        1.0,
                        1.0,
                        1.0
                    ]
                },
                "range": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 65536
                    },
                    "minItems": 2,
                    "maxItems": 2,
                    "default": [
                        985,
                        1000
                    ]
                }
            }
        }
    }
}